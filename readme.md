‡∏ô‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡∏ö **README.md** ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô ‚Äú‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πä‡∏≠‡∏õ‚Äù ‡∏ß‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå üëá

---

# Translator SaltyBot (Discord)

OCR ‚Ä¢ STT ‚Ä¢ Translate ‚Ä¢ TTS ‚Äî ‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô‡∏ö‡∏≠‡∏ó‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

> ‡∏ö‡∏≠‡∏ó‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤‡πÉ‡∏ô Discord: ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°**, **‡∏†‡∏≤‡∏û (OCR)**, ‡πÅ‡∏•‡∏∞ **‡πÄ‡∏™‡∏µ‡∏¢‡∏á (STT)**
> ‡∏°‡∏µ **‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤ STT** ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á, ‡∏õ‡∏∏‡πà‡∏° **‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á (TTS)**, ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•‡πÑ‡∏î‡πâ (GPT / Google)

---

## ‚ú® ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå

* **‡πÅ‡∏õ‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ** ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î (‡πÇ‡∏´‡∏°‡∏î 2 ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏´‡∏°‡∏î Multi)
* **OCR ‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û** ‚Üí ‡πÇ‡∏ä‡∏ß‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏õ‡∏∏‡πà‡∏° ‚ÄúListen / Translate‚Äù
* **STT ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠**

  * ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå ‚Üí ‡∏ö‡∏≠‡∏ó‡∏ñ‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡∏û‡∏π‡∏î **(‡πÅ‡∏ú‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤)**
  * ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß: ‡∏ö‡∏≠‡∏ó **‡∏•‡∏ö‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤** ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á **Transcript** ‡πÄ‡∏õ‡πá‡∏ô **reply** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°
  * ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏¢‡∏≤‡∏ß: ‡∏™‡∏•‡∏±‡∏ö‡πÉ‡∏ä‡πâ **Google Speech-to-Text** ‡πÅ‡∏ö‡∏ö sync / long-running ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  * ‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô **WAV 16k mono** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 400 / stereo)
* **TTS ‡∏ü‡∏±‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå** (‡∏õ‡∏∏‡πà‡∏° Listen) + **Auto TTS channel**
* **‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•** ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå: `GPT-4o mini`, `GPT-5 nano`, `Google Translate`
* **‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤**: ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Google Translate / OCR ‡∏î‡πâ‡∏ß‡∏¢ Redis
* **UI ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£**: ‡∏õ‡∏∏‡πà‡∏° 3 ‡∏†‡∏≤‡∏©‡∏≤ + ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏∑‡πà‡∏ô ‡πÜ, ‡πÅ‡∏™‡∏î‡∏á‡∏ò‡∏á, ‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏•‡πâ‡∏ô

---

## üñºÔ∏è ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)

* ‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤ STT (‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
* ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Transcript + ‡∏õ‡∏∏‡πà‡∏° ‚ÄúListen / Translate‚Äù
* ‡πÅ‡∏ú‡∏á‡πÅ‡∏õ‡∏• 2 ‡∏ó‡∏≤‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏õ‡∏∏‡πà‡∏°/‡∏î‡∏£‡∏≠‡∏õ‡∏î‡∏≤‡∏ß‡∏ô‡πå)

> *(‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏Å‡∏£‡∏µ‡∏ô‡∏ä‡πá‡∏≠‡∏ï‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ)*

---

## üß© ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å

```
.
‚îú‚îÄ bot.py / main.py             # ‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ô‡∏ö‡∏≠‡∏ó (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å register_message_handlers + bot.run)
‚îú‚îÄ events.py                    # Routing ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå on_message + Flow ‡∏£‡∏ß‡∏° (OCR/STT/Translate)
‚îú‚îÄ stt_select_panel.py          # ‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤ STT (‡∏•‡∏ö‡πÅ‡∏ú‡∏á‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å, reply ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°)
‚îú‚îÄ translate_panel.py           # ‡πÅ‡∏ú‡∏á‡πÅ‡∏õ‡∏• 2 ‡∏ó‡∏≤‡∏á + ‡∏õ‡∏∏‡πà‡∏°‡∏ü‡∏±‡∏á/‡∏ü‡∏±‡∏á‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
‚îú‚îÄ stt_google_sync.py           # Google STT (‡∏™‡∏±‡πâ‡∏ô)
‚îú‚îÄ stt_google_async.py          # Google STT long-running (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î GCS + poll)
‚îú‚îÄ stt_lang_utils.py            # ‡πÄ‡∏î‡∏≤‡∏†‡∏≤‡∏©‡∏≤/‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå + ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å alternative langs
‚îú‚îÄ tts_lang_resolver.py         # ‡∏ï‡∏±‡∏î‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥, ‡πÅ‡∏¢‡∏Å/‡∏£‡∏ß‡∏°‡∏ö‡∏•‡πá‡∏≠‡∏Å, ‡πÄ‡∏î‡∏≤ TTS lang, cleaning
‚îú‚îÄ tts_service.py               # ‡∏û‡∏π‡∏î (gTTS/Edge) + ‡∏Ñ‡∏¥‡∏ß + connect ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á
‚îú‚îÄ ocr_service.py               # Google Vision OCR
‚îú‚îÄ translation_service.py       # ‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏• (GPT/Google) + post-process
‚îú‚îÄ media_utils.py               # ffmpeg ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö STT (WAV 16k mono ‡∏Ø‡∏•‡∏Ø)
‚îú‚îÄ app_redis.py                 # ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤/usage/histogram ‡∏†‡∏≤‡∏©‡∏≤ per channel/user
‚îú‚îÄ constants.py                 # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Channel IDs/‡πÇ‡∏´‡∏°‡∏î/‡∏•‡∏¥‡∏°‡∏¥‡∏ï ‡∏Ø‡∏•‡∏Ø
‚îú‚îÄ config.py                    # ENV / ‡∏Ñ‡∏µ‡∏¢‡πå‡∏ï‡πà‡∏≤‡∏á ‡πÜ (‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å os.environ)
‚îú‚îÄ lang_config.py               # ‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤/‡∏ò‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
‚îî‚îÄ messaging_utils.py           # helper ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß ‡∏Ø‡∏•‡∏Ø
```

---

## ‚öôÔ∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

* Python **3.10+**
* **FFmpeg** (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á/‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
* Google Cloud + ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

  * Speech-to-Text, **(‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ long-running)** Cloud Storage (GCS), Vision (OCR), Cloud Translation
* Redis (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤/usage; ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
* Discord Bot Token
* OpenAI API Key (‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ GPT ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•)

---

## üîë ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (ENV)

| ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£                    | ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢                                                                  |
| ------------------------- | ----------------------------------------------------------------------- |
| `DISCORD_BOT_TOKEN`       | ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô‡∏ö‡∏≠‡∏ó Discord                                                        |
| `OPENAI_API_KEY`          | (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏• GPT                                   |
| `GOOGLE_API_KEY`          | ‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å **Vision OCR** ‡πÅ‡∏•‡∏∞ **Cloud Translation**                       |
| `GCP_SERVICE_ACCOUNT_B64` | ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÑ‡∏ü‡∏•‡πå Service Account (JSON) ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ Base64 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **STT**/**GCS** |
| `GCS_BUCKET_NAME`         | ‡∏ä‡∏∑‡πà‡∏≠ GCS bucket ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö long-running STT                                 |
| `REDIS_URL`               | URL ‡∏Ç‡∏≠‡∏á Redis (‡πÄ‡∏ä‡πà‡∏ô `redis://‚Ä¶`)                                        |

> ‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏∞‡∏ñ‡∏≠‡∏î `GCP_SERVICE_ACCOUNT_B64` ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà `/app/gcp-key.json` ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á `GOOGLE_APPLICATION_CREDENTIALS` ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Local)

1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á FFmpeg

```bash
# macOS (Homebrew)
brew install ffmpeg

# Ubuntu / Debian
sudo apt-get update && sudo apt-get install -y ffmpeg
```

2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ Python

```bash
python -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ENV (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `.env`)

```env
DISCORD_BOT_TOKEN=xxx
OPENAI_API_KEY=xxx
GOOGLE_API_KEY=xxx
GCP_SERVICE_ACCOUNT_B64=...base64-of-service-account-json...
GCS_BUCKET_NAME=your-bucket-name
REDIS_URL=redis://localhost:6379/0
```

4. ‡∏£‡∏±‡∏ô‡∏ö‡∏≠‡∏ó

```bash
python bot.py
# ‡∏´‡∏£‡∏∑‡∏≠
python main.py
```

---

## üîß ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Discord

* ‡πÄ‡∏õ‡∏¥‡∏î **Message Content Intent** ‡πÅ‡∏•‡∏∞ **Server Members Intent** ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Developer Portal
* ‡πÄ‡∏ä‡∏¥‡∏ç‡∏ö‡∏≠‡∏ó‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏¥‡∏•‡∏î‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:

  * ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°, ‡∏≠‡πà‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥, ‡∏ù‡∏±‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå/‡∏ù‡∏±‡∏á embed
  * ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `!clear`)
  * ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°/‡∏û‡∏π‡∏î‡πÉ‡∏ô **Voice Channel** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TTS)

---

## üóÇÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á/‡πÇ‡∏´‡∏°‡∏î (‡πÉ‡∏ô `constants.py`)

* `TRANSLATION_CHANNELS`

  * `multi` ‚Üí ‡πÇ‡∏´‡∏°‡∏î‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤: ‡∏°‡∏µ‡πÅ‡∏ú‡∏á‡πÅ‡∏õ‡∏• 2 ‡∏ó‡∏≤‡∏á (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°) + ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö OCR/STT
  * `(src, tgt)` ‚Üí ‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏≠‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á: ‡∏ñ‡πâ‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå `src` ‡∏à‡∏∞‡πÅ‡∏õ‡∏•‡πÑ‡∏õ `tgt` ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ô
* `AUTO_TTS_CHANNELS` ‚Üí ‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏ó‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
* `DETAILED_EN_CHANNELS` / `DETAILED_JA_CHANNELS` ‚Üí ‡∏´‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å

> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ID ‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ï‡∏ö‡∏≠‡∏ó

---

## üïπÔ∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ (‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á)

‡∏û‡∏¥‡∏°‡∏û‡πå `!commands` ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ

* `!tts engine [user|server] [gtts|edge]` ‚Äî ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ TTS
* `!ttsstatus` ‚Äî ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ TTS ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
* `!translator engine [gpt4omini|gpt5nano|google]` ‚Äî ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•
* `!translator show` / `!translatorstatus` ‚Äî ‡∏î‡∏π‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
* `!ocr quota` ‚Äî ‡πÄ‡∏ä‡πá‡∏Ñ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ OCR ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
* `!gtrans quota` ‚Äî ‡πÄ‡∏ä‡πá‡∏Ñ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ Google Translate ‡∏ó‡∏±‡πâ‡∏á‡∏ö‡∏≠‡∏ó
* `!topusers` ‚Äî ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏≠‡∏ó‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
* `!clear [‡∏à‡∏≥‡∏ô‡∏ß‡∏ô]` ‚Äî ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå)

---

## üîÑ ‡πÇ‡∏ü‡∏•‡∏ß‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å

### 1) STT (‡∏ñ‡∏≠‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå)

1. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏°‡∏î `multi`
2. ‡∏ö‡∏≠‡∏ó‡∏™‡πà‡∏á **‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤** ‚Üí ‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
3. ‡∏ö‡∏≠‡∏ó **‡∏•‡∏ö‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏≠‡∏Å** ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á **Transcript** ‡πÄ‡∏õ‡πá‡∏ô **reply ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°**
4. Transcript ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á **‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å** ‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏°‡∏î (‡πÄ‡∏ä‡πà‡∏ô `google sync`/`google longrunning`)

   > *‡πÉ‡∏ô STT ‡∏à‡∏∞ **‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏ô‡∏à‡∏¥‡∏ô‡πÅ‡∏õ‡∏•** ‡∏ï‡∏≤‡∏°‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô*
5. ‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° ‚ÄúListen (Result)‚Äù / ‚ÄúListen (Source)‚Äù / ‚ÄúTranslate‚Äù ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏ï‡πà‡∏≠

> ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô **WAV 16k mono** ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å alt-langs ‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏Å‡∏£‡∏ì‡∏µ‡∏ñ‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å

### 2) OCR (‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û)

1. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏°‡∏î `multi`
2. ‡∏ö‡∏≠‡∏ó‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ + ‡∏õ‡∏∏‡πà‡∏° ‚ÄúListen / Translate‚Äù
3. ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏à‡∏∞‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö **Full TXT**

### 3) ‡πÅ‡∏õ‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (Text ‚Üí Text)

* ‡∏´‡πâ‡∏≠‡∏á `multi` ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å **‡πÅ‡∏ú‡∏á‡πÅ‡∏õ‡∏• 2 ‡∏ó‡∏≤‡∏á** ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á
* ‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ `(src, tgt)` ‚Üí ‡πÅ‡∏õ‡∏•‡∏™‡∏≠‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## üì¶ Deployment Tips

* **Railway / Docker**: ‡πÉ‡∏™‡πà ENV ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö + ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á `ffmpeg` ‡πÉ‡∏ô image/base
* GCS: ‡∏™‡∏£‡πâ‡∏≤‡∏á bucket ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏≥‡∏´‡∏ô‡∏î `GCS_BUCKET_NAME`; ‡πÉ‡∏™‡πà Service Account ‡πÄ‡∏õ‡πá‡∏ô Base64 ‡πÉ‡∏ô `GCP_SERVICE_ACCOUNT_B64`
* Redis: ‡πÉ‡∏™‡πà `REDIS_URL` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤/usage/histogram ‡∏†‡∏≤‡∏©‡∏≤

---

## üõ†Ô∏è Troubleshooting

* **HTTP 400: ‚ÄúMust use single channel (mono)‚Äù**
  ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô **WAV 16k mono** ‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ú‡πà‡∏≤‡∏ô `media_utils.transcode_to_wav_pcm16`)
* **‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å**
  ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô **long-running** ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ GCS ‡πÅ‡∏•‡∏∞ Service Account)
* **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° OCR/‡πÅ‡∏õ‡∏•‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô**
  ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå TXT ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å
* **Google Translate quota ‡πÄ‡∏ï‡πá‡∏°**
  ‡∏™‡∏•‡∏±‡∏ö‡∏°‡∏≤ GPT ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢ `!translator engine gpt4omini` ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

---

## üîí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

* ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡∏ú‡πà‡∏≤‡∏ô ENV ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
* ‡∏≠‡∏¢‡πà‡∏≤ commit ‡πÑ‡∏ü‡∏•‡πå Service Account ‡∏•‡∏á‡∏£‡∏µ‡πÇ‡∏õ
* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ö‡∏≠‡∏ó‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

---

## ‚úÖ License

‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏•‡πÄ‡∏ã‡∏ô‡∏™‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡πÄ‡∏ä‡πà‡∏ô MIT)

---

## üôè Credits

* Google Cloud (STT, Vision, Translate)
* OpenAI (Responses API)
* gTTS / Edge-TTS
* discord.py, httpx, ffmpeg

---

## üß™ ‡πÄ‡∏ä‡πá‡∏Å‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

* [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Channel IDs ‡πÉ‡∏ô `constants.py`
* [ ] ‡πÉ‡∏™‡πà ENV ‡∏Ñ‡∏£‡∏ö (`DISCORD_BOT_TOKEN`, `GOOGLE_API_KEY`, `GCP_SERVICE_ACCOUNT_B64`, ‚Ä¶)
* [ ] ‡πÄ‡∏õ‡∏¥‡∏î Intent ‡πÉ‡∏ô Discord Developer Portal
* [ ] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á `ffmpeg`
* [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° / ‡∏†‡∏≤‡∏û (OCR) / ‡πÄ‡∏™‡∏µ‡∏¢‡∏á (STT)
* [ ] ‡∏ï‡∏£‡∏ß‡∏à‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ `!ocr quota` / `!gtrans quota`

> ‡πÄ‡∏à‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏™‡πà‡∏á log/traceback ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏•‡πà‡πÉ‡∏´‡πâ üôå

---
